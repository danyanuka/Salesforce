<template>
  <lightning-card title="Account Info">
    <div class="record-form-container">
      <lightning-record-edit-form
        object-api-name={accountApiName}
        record-id={recordId}
        class="custom-record-form"
      >
        <lightning-input-field field-name={phoneField}> </lightning-input-field>
        <lightning-input-field field-name={typeField}> </lightning-input-field>
        <lightning-input-field field-name={descriptionField}>
        </lightning-input-field>

        <table class="slds-table slds-table_bordered">
          <thead>
            <tr class="slds-text-title_caps">
              <th scope="col">Contact Name</th>
              <th scope="col">Contact Email</th>
              <th scope="col">Contact Phone</th>
              <th scope="col">
                <lightning-icon
                  icon-name="utility:check"
                  size="small"
                  alternative-text="Select All/Deselect All"
                ></lightning-icon>
              </th>
            </tr>
          </thead>
          <tbody>
            <template for:each={unassociatedContacts} for:item="contact">
              <tr key={contact.Id} class="slds-hint-parent">
                <td data-label="Contact Name">{contact.Name}</td>
                <td data-label="Contact Email">{contact.Email}</td>
                <td data-label="Contact Phone">{contact.Phone}</td>
                <td class="slds-cell-shrink">
                  <lightning-input
                    type="checkbox"
                    name="contactSelection"
                    data-value={contact.Id}
                    onchange={handleContactSelection}
                  >
                  </lightning-input>
                </td>
              </tr>
            </template>
          </tbody>
        </table>
        <div class="slds-var-m-top_medium">
          <lightning-button
            onclick={handleContactAssociation}
            variant="brand"
            type="submit"
            label="Submit"
          >
          </lightning-button>
        </div>
      </lightning-record-edit-form>
    </div>
  </lightning-card>
</template>
